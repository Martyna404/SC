// TASK1
#include <iostream>
#include <thread>

// Funktor jako struct (domy≈õlnie public)
struct Funktor {
    void operator()(std::string tekst) {
        std::cout << "[Function Object] Message: " << tekst << std::endl;
    }
};

// Klasa jako struct
struct Klasa {
    void metodaKlasy(std::string tekst) {
        std::cout << "[Class Method] Message: " << tekst << std::endl;
    }
};

int main() {
    std::thread watek1([](std::string tekst) {
        std::cout << "[Global Function] Message: " << tekst << std::endl;
        }, "Hello from Global Function");

    Funktor funktor;
    std::thread watek2(funktor, "Hello from Function Object");

    Klasa obiekt;
    std::thread watek3(&Klasa::metodaKlasy, &obiekt, "Hello from Class Method");

    std::thread watek4([](std::string tekst) {
        std::cout << "[Lambda Function] Message: " << tekst << std::endl;
        }, "Hello from Lambda Function");

    watek1.join();
    watek2.join();
    watek3.join();
    watek4.join();

    return 0;
}

// TASK2

#include <iostream>
#include <thread>
#include <mutex>
#include <vector>
#include <sstream>  

std::mutex mtx;

// Global function -50 times
void printMessage(std::string text) {
    for (int i = 0; i < 50; i++) {
        std::lock_guard<std::mutex> lock(mtx);
        std::cout << text << " - Line " << i + 1 << std::endl;
    }
}

int main() {
    std::vector<std::thread> threads;

    for (int i = 1; i <= 20; ++i) {
        std::stringstream ss;
        ss << "Thread #" << i;
        std::string threadText = ss.str();

        threads.emplace_back(printMessage, threadText);
    }

    for (auto& t : threads) {
        t.join();
    }

    return 0;
}

